<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <style>
        .navbar {
            background: linear-gradient(to right, #3a7bd5, #3a6073);
            border-radius: 5px;
            position: fixed;
            top: 0;
            /* height: auto; */
            /* width: 100%; */
            z-index: 1000;
        }

        .btn {
            font-size: 0.8rem;
            font-weight: 700;
            /* color: blueviolet; */
            background-color: rgb(63, 3, 119) !important;
        }

        .btn:hover {
            background-color: aliceblue !important;
            color: black !important;
        }

        .btn i {
            vertical-align: text-top;
        }

        #hidden {
            display: none;
        }

        /* .box {
            font-family: Arial, sans-serif;
            background-color: #f3f4f6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        } */

        .container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 24px;
            width: auto;
            height: auto;
        }

        h1 {
            font-size: 24px;
            margin-bottom: 16px;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        .toggle-btn {
            background-color: #3b82f6;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin-bottom: 16px;
        }

        .toggle-btn:hover {
            background-color: #2563eb;
        }

        .upload-area {
            border: 2px dashed #d1d5db;
            border-radius: 8px;
            padding: 16px;
            text-align: center;
            cursor: pointer;
            margin-bottom: 16px;
        }

        .upload-area:hover {
            border-color: #3b82f6;
        }

        #image-upload {
            display: none;
        }

        img {
            max-width: 100%;
            border-radius: 8px;
            margin-bottom: 16px;
        }

        .process-btn {
            background-color: #3b82f6;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            margin-bottom: 16px;
        }

        .process-btn:hover {
            background-color: #2563eb;
        }

        .process-btn:disabled {
            background-color: #d1d5db;
            cursor: not-allowed;
        }

        select,
        input[type="range"] {
            width: 100%;
            padding: 8px;
            margin-bottom: 16px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
        }

        label {
            display: block;
            margin-bottom: 8px;
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <title>Dashboard</title>
    <!-- http://localhost:3000/api/script -->
    <script src="renderer.js">
        // let logout = document.getElementById('logout')
        // // if (logout) {
        // logout.addEventListener('submit', (e) => {
        //     e.preventDefault();
        //     localStorage.clear();
        //     message.classList.add('pop-up', 'alert', 'alert-danger');
        //     message.textContent = "Logout SuccessFul";
        //     setTimeout(() => {
        //         message.classList.add('hide');
        //     }, 2000);
        //     setTimeout(() => {
        //         window.location.href = 'http://localhost:3000/api/login';
        //     }, 1000)
        // })
        // }
        const toggleBtn = document.getElementById('toggle-btn');
        const processScreen = document.getElementById('process-screen');
        const optionsScreen = document.getElementById('options-screen');
        const effectsScreen = document.getElementById('effects-screen');
        const uploadArea = document.getElementById('upload-area');
        const imageUpload = document.getElementById('image-upload');
        const uploadedImageContainer = document.getElementById('uploaded-image-container');
        const processBtn = document.getElementById('process-btn');
        const processedImageContainer = document.getElementById('processed-image-container');

        let currentScreen = 'process';

        toggleBtn.addEventListener('click', () => {
            if (currentScreen === 'process') {
                processScreen.classList.remove('active');
                optionsScreen.classList.add('active');
                toggleBtn.textContent = 'Switch to Process';
                currentScreen = 'options';
            } else {
                optionsScreen.classList.remove('active');
                effectsScreen.classList.remove('active');
                processScreen.classList.add('active');
                toggleBtn.textContent = 'Switch to Settings';
                currentScreen = 'process';
            }
        });

        uploadArea.addEventListener('click', () => {
            imageUpload.click();
        });

        imageUpload.addEventListener('change', (event) => {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    uploadedImageContainer.innerHTML = `<img src="${e.target.result}" alt="Uploaded Image">`;
                    processBtn.disabled = false;
                };
                reader.readAsDataURL(file);
            }
        });

        processBtn.addEventListener('click', () => {
            // Simulating image processing
            setTimeout(() => {
                const uploadedImage = uploadedImageContainer.querySelector('img');
                if (uploadedImage) {
                    processedImageContainer.innerHTML = `
                        <h3>Processed Image:</h3>
                        <img src="${uploadedImage.src}" alt="Processed Image">
                    `;
                }
            }, 1000);
        });

        // Add event listeners for options and effects screens
        document.getElementById('quality').addEventListener('change', updateImage);
        document.getElementById('format').addEventListener('change', updateImage);
        document.getElementById('preserve-transparency').addEventListener('change', updateImage);
        document.getElementById('filter').addEventListener('change', updateImage);
        document.getElementById('brightness').addEventListener('input', updateImage);
        document.getElementById('contrast').addEventListener('input', updateImage);

        function updateImage() {
            // In a real application, this function would apply the selected options and effects to the image
            console.log('Image updated with new settings');
        }
    </script>
</head>

<body>
    <div class="row align-items-center justify-content-center h-100 g-0 px-4 px-sm-0 w-100">
        <p id="message"></p>
    </div>
    <div class="d-flex justify-content-between m-4 navbar p-2">
        <a href="#">
            <img src="images/icon-512.png" alt="" width="40">
        </a>
        <!-- <i class='bx bxs-user' size="lg"></i> -->
        <form id="logout">
            <button type="submit" class="btn btn-primary">Logout</button>
            <!-- size="xs|sm|md|lg|cssSize" -->
        </form>
    </div>
    Welcome to your dashboard
    <a href="subscription.html" id="upgrade">
        <button class="btn btn-primary">Update your plan</button>
    </a>
    <br>
    <br>

    <div class="container">
        <h1>Image Processor</h1>
        <!-- <button id="toggle-btn" class="toggle-btn btn btn-primary">Switch to Settings</button> -->

        <div id="process-screen" class="screen active">
            <div class="upload-area" id="upload-area">
                <p>Upload Image</p>
            </div>
            <input type="file" id="image-upload" accept="image/*">
            <div id="uploaded-image-container"></div>
            <button id="process-btn" class="process-btn" disabled>Process Image</button>
            <div id="processed-image-container"></div>
        </div>

        <div id="options-screen" class="screen">
            <h2>Options</h2>
            <label for="quality">Image Quality:</label>
            <select id="quality">
                <option value="high">High</option>
                <option value="medium">Medium</option>
                <option value="low">Low</option>
            </select>

            <label for="format">Output Format:</label>
            <select id="format">
                <option value="png">PNG</option>
                <option value="jpg">JPG</option>
                <option value="webp">WebP</option>
            </select>

            <label>
                <input type="checkbox" id="preserve-transparency">
                Preserve Transparency
            </label>
        </div>

        <div id="effects-screen" class="screen">
            <h2>Effects</h2>
            <label for="filter">Apply Filter:</label>
            <select id="filter">
                <option value="none">None</option>
                <option value="grayscale">Grayscale</option>
                <option value="sepia">Sepia</option>
                <option value="blur">Blur</option>
            </select>

            <label for="brightness">Brightness:</label>
            <input type="range" id="brightness" min="0" max="200" value="100">

            <label for="contrast">Contrast:</label>
            <input type="range" id="contrast" min="0" max="200" value="100">
        </div>
    </div>



    <!-- <script src="renderer.js"></script> -->
</body>

</html>